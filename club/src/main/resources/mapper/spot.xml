<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="spot">
	
	<select id="nameCheck" parameterType="String" resultType="Integer">
		SELECT COUNT(*) FROM project.spot WHERE name=#{name}
	</select>
	
	<insert id="spotInsert" parameterType="spot.SpotVO">
		insert into project.spot (category_num, name, file, content, tel, email, regdate, modifydate ,question)
		values
		(#{category_num},#{name}, #{file}, #{content}, #{tel}, #{email},now(), null, #{question})
	</insert>
	
	<select id="spotView" resultType="spot.SpotVO" parameterType="integer">
		SELECT * FROM project.spot WHERE num = #{num}
	</select>
	
	<update id="spotUpdate" parameterType="spot.SpotVO">
		UPDATE project.spot SET
		name=#{name}
		<if test="file != null">
			, file=#{file}
		</if>
		WHERE num=#{num}
	</update>
	
	<delete id="spotDelete" parameterType="integer">
		DELETE FROM project.spot WHERE num=#{num}
	</delete>
	<select id="spotList" resultType="spot.SpotVO" parameterType="spot.SpotVO">
		SELECT * FROM project.spot
	</select>
</mapper>